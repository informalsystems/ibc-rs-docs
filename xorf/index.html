<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="This library implements Xor Filters and their derivatives. Xor filters are data structures for fast approximation of set membership using little memory. Probabilistic filters like xor filters are useful for quickly estimating of the existence of an entity to avoid using an expensive resource. For example, they can be used to reduce disk writes in a cache or identify malicious URLs."><title>xorf - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-46f98efaafac5295.ttf.woff2,FiraSans-Regular-018c141bf0843ffd.woff2,FiraSans-Medium-8f9a781e4970d388.woff2,SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2,SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../static.files/rustdoc-b0742ba02757f159.css"><meta name="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="xorf" data-themes="" data-resource-suffix="" data-rustdoc-version="1.84.0-nightly (9322d183f 2024-10-14)" data-channel="nightly" data-search-js="search-e056c65ede92db13.js" data-settings-js="settings-805db61a62df4bd2.js" ><script src="../static.files/storage-1d39b6787ed640ff.js"></script><script defer src="../crates.js"></script><script defer src="../static.files/main-f070b9041d14864c.js"></script><noscript><link rel="stylesheet" href="../static.files/noscript-0111fcff984fae8f.css"></noscript><link rel="alternate icon" type="image/png" href="../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc mod crate"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../xorf/index.html">xorf</a><span class="version">0.11.0</span></h2></div><div class="sidebar-elems"><ul class="block"><li><a id="all-types" href="all.html">All Items</a></li></ul><section id="rustdoc-toc"><h3><a href="#">Sections</a></h3><ul class="block top-toc"><li><a href="#general-considerations-for-all-filters" title="General considerations for all filters">General considerations for all filters</a><ul><li><a href="#assumed-pre-conditions" title="Assumed pre-conditions">Assumed pre-conditions</a></li></ul></li><li><a href="#faq" title="FAQ">FAQ</a><ul><li><a href="#whats-the-difference-between-fuse-and-binary-fuse-filters" title="What’s the difference between “Fuse” and “Binary Fuse” filters?">What’s the difference between “Fuse” and “Binary Fuse” filters?</a></li></ul></li></ul><h3><a href="#structs">Crate Items</a></h3><ul class="block"><li><a href="#structs" title="Structs">Structs</a></li><li><a href="#traits" title="Traits">Traits</a></li></ul></section><div id="rustdoc-modnav"></div></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><h1>Crate <span>xorf</span><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../src/xorf/lib.rs.html#1-123">source</a> </span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>This library implements Xor Filters and their derivatives. Xor filters are data structures for fast approximation of set
membership using little memory. Probabilistic filters like xor filters are useful for
quickly estimating of the existence of an entity to avoid using an expensive resource.
For example, they can be used to <a href="https://en.wikipedia.org/wiki/Bloom_filter#Cache_filtering">reduce disk writes</a> in a cache or <a href="https://en.wikipedia.org/wiki/Bloom_filter#Examples">identify malicious URLs</a>.</p>
<p>Xor filters are faster and smaller than Bloom and Cuckoo filters.
Xor filters incur a relative time penalty in construction, but are very fast in lookups; the
expectation is that construction of a filter is amortized after many queries.</p>
<p>Xor filters operate only on sets of 64-bit (unsigned) integers. This library does not provide
methods for hashing arbitrary types to 64-bit integers. Xor filters are immutable,
serializable, and guarantee no false negatives. This library is <code>no_std</code> and <a href="https://doc.rust-lang.org/1.9.0/book/custom-allocators.html"><code>needs_allocator</code></a>.</p>
<p>Filters are implemented as described in the paper
“<a href="https://arxiv.org/abs/1912.08258">Xor Filters: Faster and Smaller Than Bloom and Cuckoo Filters</a>”, in the upcoming
“Binary Fuse Filters: Fast and Smaller Than Xor Filters”, and in Daniel Lemire’s <a href="https://github.com/FastFilter/xorfilter">go</a> and
<a href="https://github.com/FastFilter/xor_singleheader">c</a> implementations. All are useful references on the theory behind xor filters. For
performance statistics, refer to individual filters’ documentation in this crate or the
mentioned papers.</p>
<h3 id="general-considerations-for-all-filters"><a class="doc-anchor" href="#general-considerations-for-all-filters">§</a>General considerations for all filters</h3>
<p>It is highly recommended to use the <code>BinaryFuse</code> family of xor-like filters. <code>BinaryFuse</code>
filters can fail to construct, but almost always only if they are constructed with duplicate
keys. If you need a filter that will unconditionally succeed in construction (up to duplicate
keys), use the <code>Xor</code> family of filters.</p>
<p>For a given <code>N</code>, a <code>BinaryFuseN</code> and <code>FuseN</code> filter are roughly equivalent in size, uniformity
of key distribution, and false-positive rate.</p>
<p>An <code>XorN</code> filter is larger, less uniform, and has a higher false-positive
rate than both a <code>BinaryFuseN</code> and <code>FuseN</code> filter.</p>
<p>A <code>BinaryFuseN</code> filter’s construction is faster, uses less memory, and is more likely to
succeed compared to a <code>FuseN</code> filter’s construction.</p>
<p>The false-positive rate of a filter with fingerprint size <code>N</code> is around <code>2^{-N}</code>; for more
numbers, see the documentation of each individual filter.</p>
<h4 id="assumed-pre-conditions"><a class="doc-anchor" href="#assumed-pre-conditions">§</a>Assumed pre-conditions</h4>
<ul>
<li>It is a pre-condition that all filters are constructed from a data structure containing no
duplicate keys. You must perform any de-duplication needed yourself before constructing a
filter.</li>
</ul>
<h3 id="faq"><a class="doc-anchor" href="#faq">§</a>FAQ</h3><h4 id="whats-the-difference-between-fuse-and-binary-fuse-filters"><a class="doc-anchor" href="#whats-the-difference-between-fuse-and-binary-fuse-filters">§</a>What’s the difference between “Fuse” and “Binary Fuse” filters?</h4>
<p>Fuse filters use a <a href="https://arxiv.org/abs/1907.04749">fuse graph</a> to reduce the space required to hold fingerprints. Binary Fuse
filters further exploit fuse graphs in a novel manner described in the upcoming
“Binary Fuse Filters: Fast and Smaller Than Xor Filters”. In particular, Binary Fuse filters
use a binary-partitioned fuse graph, and are different enough from the “original” Fuse filters
to deserve a unique name.</p>
</div></details><h2 id="structs" class="section-header">Structs<a href="#structs" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="struct" href="struct.BinaryFuse8.html" title="struct xorf::BinaryFuse8">Binary<wbr>Fuse8</a></div><div class="desc docblock-short">A <code>BinaryFuse8</code> filter is an Xor-like filter with 8-bit fingerprints arranged in a binary-partitioned <a href="https://arxiv.org/abs/1907.04749">fuse graph</a>.
<code>BinaryFuse8</code>s are similar to <a href="struct.Fuse8.html" title="struct xorf::Fuse8"><code>Fuse8</code></a>s, but their construction is faster, uses less
memory, and is more likely to succeed.</div></li><li><div class="item-name"><a class="struct" href="struct.BinaryFuse16.html" title="struct xorf::BinaryFuse16">Binary<wbr>Fuse16</a></div><div class="desc docblock-short">A <code>BinaryFuse16</code> filter is an Xor-like filter with 16-bit fingerprints arranged in a binary-partitioned <a href="https://arxiv.org/abs/1907.04749">fuse graph</a>.
<code>BinaryFuse16</code>s are similar to <a href="struct.Fuse16.html" title="struct xorf::Fuse16"><code>Fuse16</code></a>s, but their construction is faster, uses less
memory, and is more likely to succeed.</div></li><li><div class="item-name"><a class="struct" href="struct.BinaryFuse32.html" title="struct xorf::BinaryFuse32">Binary<wbr>Fuse32</a></div><div class="desc docblock-short">A <code>BinaryFuse32</code> filter is an Xor-like filter with 32-bit fingerprints arranged in a binary-partitioned <a href="https://arxiv.org/abs/1907.04749">fuse graph</a>.
<code>BinaryFuse32</code>s are similar to <a href="struct.Fuse32.html" title="struct xorf::Fuse32"><code>Fuse32</code></a>s, but their construction is faster, uses less
memory, and is more likely to succeed.</div></li><li><div class="item-name"><a class="struct" href="struct.Fuse8.html" title="struct xorf::Fuse8">Fuse8</a><wbr><span class="stab deprecated" title="">Deprecated</span></div><div class="desc docblock-short">Xor filter using 8-bit fingerprints in a <a href="https://arxiv.org/abs/1907.04749">fuse graph</a>. Requires less space than an <a href="struct.Xor8.html" title="struct xorf::Xor8"><code>Xor8</code></a>.</div></li><li><div class="item-name"><a class="struct" href="struct.Fuse16.html" title="struct xorf::Fuse16">Fuse16</a><wbr><span class="stab deprecated" title="">Deprecated</span></div><div class="desc docblock-short">Xor filter using 16-bit fingerprints in a <a href="https://arxiv.org/abs/1907.04749">fuse graph</a>. Requires less space than an <a href="struct.Xor16.html" title="struct xorf::Xor16"><code>Xor16</code></a>.</div></li><li><div class="item-name"><a class="struct" href="struct.Fuse32.html" title="struct xorf::Fuse32">Fuse32</a><wbr><span class="stab deprecated" title="">Deprecated</span></div><div class="desc docblock-short">Xor filter using 32-bit fingerprints in a <a href="https://arxiv.org/abs/1907.04749">fuse graph</a>. Requires less space than an <a href="struct.Xor32.html" title="struct xorf::Xor32"><code>Xor32</code></a>.</div></li><li><div class="item-name"><a class="struct" href="struct.HashProxy.html" title="struct xorf::HashProxy">Hash<wbr>Proxy</a></div><div class="desc docblock-short">Arbitrary key type proxy for xor filters.</div></li><li><div class="item-name"><a class="struct" href="struct.Xor8.html" title="struct xorf::Xor8">Xor8</a></div><div class="desc docblock-short">Xor filter using 8-bit fingerprints.</div></li><li><div class="item-name"><a class="struct" href="struct.Xor16.html" title="struct xorf::Xor16">Xor16</a></div><div class="desc docblock-short">Xor filter using 16-bit fingerprints.</div></li><li><div class="item-name"><a class="struct" href="struct.Xor32.html" title="struct xorf::Xor32">Xor32</a></div><div class="desc docblock-short">Xor filter using 32-bit fingerprints.</div></li></ul><h2 id="traits" class="section-header">Traits<a href="#traits" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="trait" href="trait.Filter.html" title="trait xorf::Filter">Filter</a></div><div class="desc docblock-short">Methods common to xor filters.</div></li></ul></section></div></main></body></html>