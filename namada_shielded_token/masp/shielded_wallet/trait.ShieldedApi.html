<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="The methods of the shielded wallet that depend on the `ShieldedQueries` trait. These cannot be overridden downstream."><title>ShieldedApi in namada_shielded_token::masp::shielded_wallet - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-46f98efaafac5295.ttf.woff2,FiraSans-Regular-018c141bf0843ffd.woff2,FiraSans-Medium-8f9a781e4970d388.woff2,SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2,SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../../static.files/rustdoc-b0742ba02757f159.css"><meta name="rustdoc-vars" data-root-path="../../../" data-static-root-path="../../../static.files/" data-current-crate="namada_shielded_token" data-themes="" data-resource-suffix="" data-rustdoc-version="1.84.0-nightly (9322d183f 2024-10-14)" data-channel="nightly" data-search-js="search-e056c65ede92db13.js" data-settings-js="settings-805db61a62df4bd2.js" ><script src="../../../static.files/storage-1d39b6787ed640ff.js"></script><script defer src="sidebar-items.js"></script><script defer src="../../../static.files/main-f070b9041d14864c.js"></script><noscript><link rel="stylesheet" href="../../../static.files/noscript-0111fcff984fae8f.css"></noscript><link rel="icon" href="https://dev.namada.net/master/favicon.png"></head><body class="rustdoc trait"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button><a class="logo-container" href="../../../namada_shielded_token/index.html"><img src="https://dev.namada.net/master/rustdoc-logo.png" alt=""></a></nav><nav class="sidebar"><div class="sidebar-crate"><a class="logo-container" href="../../../namada_shielded_token/index.html"><img src="https://dev.namada.net/master/rustdoc-logo.png" alt="logo"></a><h2><a href="../../../namada_shielded_token/index.html">namada_<wbr>shielded_<wbr>token</a><span class="version">0.47.2</span></h2></div><div class="sidebar-elems"><section id="rustdoc-toc"><h2 class="location"><a href="#">Shielded<wbr>Api</a></h2><h3><a href="#provided-methods">Provided Methods</a></h3><ul class="block"><li><a href="#method.add_inputs" title="add_inputs">add_inputs</a></li><li><a href="#method.add_outputs" title="add_outputs">add_outputs</a></li><li><a href="#method.collect_unspent_notes" title="collect_unspent_notes">collect_unspent_notes</a></li><li><a href="#method.compute_change" title="compute_change">compute_change</a></li><li><a href="#method.compute_exchanged_amount" title="compute_exchanged_amount">compute_exchanged_amount</a></li><li><a href="#method.compute_exchanged_balance" title="compute_exchanged_balance">compute_exchanged_balance</a></li><li><a href="#method.convert_namada_amount_to_masp" title="convert_namada_amount_to_masp">convert_namada_amount_to_masp</a></li><li><a href="#method.decode_asset_type" title="decode_asset_type">decode_asset_type</a></li><li><a href="#method.decode_combine_sum" title="decode_combine_sum">decode_combine_sum</a></li><li><a href="#method.decode_combine_sum_to_epoch" title="decode_combine_sum_to_epoch">decode_combine_sum_to_epoch</a></li><li><a href="#method.decode_sum" title="decode_sum">decode_sum</a></li><li><a href="#method.estimate_next_epoch_rewards" title="estimate_next_epoch_rewards">estimate_next_epoch_rewards</a></li><li><a href="#method.gen_shielded_transfer" title="gen_shielded_transfer">gen_shielded_transfer</a></li><li><a href="#method.get_asset_type" title="get_asset_type">get_asset_type</a></li><li><a href="#method.get_denom" title="get_denom">get_denom</a></li><li><a href="#method.is_amount_required" title="is_amount_required">is_amount_required</a></li><li><a href="#method.precompute_asset_types" title="precompute_asset_types">precompute_asset_types</a></li><li><a href="#method.query_allowed_conversion" title="query_allowed_conversion">query_allowed_conversion</a></li><li><a href="#method.reorder_data_for_masp_transfer" title="reorder_data_for_masp_transfer">reorder_data_for_masp_transfer</a></li></ul><h3><a href="#object-safety">Object Safety</a></h3><h3><a href="#implementors">Implementors</a></h3></section><div id="rustdoc-modnav"><h2><a href="index.html">In namada_<wbr>shielded_<wbr>token::<wbr>masp::<wbr>shielded_<wbr>wallet</a></h2></div></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><span class="rustdoc-breadcrumbs"><a href="../../index.html">namada_shielded_token</a>::<wbr><a href="../index.html">masp</a>::<wbr><a href="index.html">shielded_wallet</a></span><h1>Trait <span class="trait">ShieldedApi</span><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../../../src/namada_shielded_token/masp/shielded_wallet.rs.html#431-1829">source</a> </span></div><pre class="rust item-decl"><code>pub trait ShieldedApi&lt;U: <a class="trait" href="../trait.ShieldedUtils.html" title="trait namada_shielded_token::masp::ShieldedUtils">ShieldedUtils</a> + <a class="trait" href="../../../namada_io/trait.MaybeSend.html" title="trait namada_io::MaybeSend">MaybeSend</a> + <a class="trait" href="../../../namada_io/trait.MaybeSync.html" title="trait namada_io::MaybeSync">MaybeSync</a>&gt;: <a class="trait" href="trait.ShieldedQueries.html" title="trait namada_shielded_token::masp::shielded_wallet::ShieldedQueries">ShieldedQueries</a>&lt;U&gt; {
<details class="toggle type-contents-toggle"><summary class="hideme"><span>Show 19 methods</span></summary>    // Provided methods
    async fn <a href="#method.precompute_asset_types" class="fn">precompute_asset_types</a>&lt;C: <a class="trait" href="../../../namada_io/client/trait.Client.html" title="trait namada_io::client::Client">Client</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a>&gt;(
        &amp;mut self,
        client: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;C</a>,
        tokens: <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;&amp;<a class="enum" href="../../../namada_core/address/enum.Address.html" title="enum namada_core::address::Address">Address</a>&gt;,
    ) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>, <a class="struct" href="../../../eyre/struct.Report.html" title="struct eyre::Report">Error</a>&gt; { ... }
<span class="item-spacer"></span>    async fn <a href="#method.decode_asset_type" class="fn">decode_asset_type</a>&lt;C: <a class="trait" href="../../../namada_io/client/trait.Client.html" title="trait namada_io::client::Client">Client</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a>&gt;(
        &amp;mut self,
        client: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;C</a>,
        asset_type: <a class="struct" href="../../../masp_primitives/asset_type/struct.AssetType.html" title="struct masp_primitives::asset_type::AssetType">AssetType</a>,
    ) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="../../../namada_core/masp/struct.AssetData.html" title="struct namada_core::masp::AssetData">AssetData</a>&gt; { ... }
<span class="item-spacer"></span>    async fn <a href="#method.query_allowed_conversion" class="fn">query_allowed_conversion</a>&lt;'a, C: <a class="trait" href="../../../namada_io/client/trait.Client.html" title="trait namada_io::client::Client">Client</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a>&gt;(
        &amp;'a mut self,
        client: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;C</a>,
        asset_type: <a class="struct" href="../../../masp_primitives/asset_type/struct.AssetType.html" title="struct masp_primitives::asset_type::AssetType">AssetType</a>,
        conversions: &amp;'a mut <a class="type" href="../type.Conversions.html" title="type namada_shielded_token::masp::Conversions">Conversions</a>,
    ) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>, <a class="struct" href="../../../eyre/struct.Report.html" title="struct eyre::Report">Error</a>&gt; { ... }
<span class="item-spacer"></span>    async fn <a href="#method.compute_exchanged_amount" class="fn">compute_exchanged_amount</a>(
        &amp;mut self,
        client: &amp;(impl <a class="trait" href="../../../namada_io/client/trait.Client.html" title="trait namada_io::client::Client">Client</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a>),
        io: &amp;impl <a class="trait" href="../../../namada_io/trait.Io.html" title="trait namada_io::Io">Io</a>,
        input: <a class="type" href="../../../masp_primitives/transaction/components/amount/type.I128Sum.html" title="type masp_primitives::transaction::components::amount::I128Sum">I128Sum</a>,
        conversions: <a class="type" href="../type.Conversions.html" title="type namada_shielded_token::masp::Conversions">Conversions</a>,
    ) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;(<a class="type" href="../../../masp_primitives/transaction/components/amount/type.I128Sum.html" title="type masp_primitives::transaction::components::amount::I128Sum">I128Sum</a>, <a class="type" href="../type.Conversions.html" title="type namada_shielded_token::masp::Conversions">Conversions</a>), <a class="struct" href="../../../eyre/struct.Report.html" title="struct eyre::Report">Error</a>&gt; { ... }
<span class="item-spacer"></span>    async fn <a href="#method.compute_exchanged_balance" class="fn">compute_exchanged_balance</a>(
        &amp;mut self,
        client: &amp;(impl <a class="trait" href="../../../namada_io/client/trait.Client.html" title="trait namada_io::client::Client">Client</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a>),
        io: &amp;impl <a class="trait" href="../../../namada_io/trait.Io.html" title="trait namada_io::Io">Io</a>,
        vk: &amp;<a class="struct" href="../../../masp_primitives/sapling/struct.ViewingKey.html" title="struct masp_primitives::sapling::ViewingKey">ViewingKey</a>,
    ) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="type" href="../../../masp_primitives/transaction/components/amount/type.I128Sum.html" title="type masp_primitives::transaction::components::amount::I128Sum">I128Sum</a>&gt;, <a class="struct" href="../../../eyre/struct.Report.html" title="struct eyre::Report">Error</a>&gt; { ... }
<span class="item-spacer"></span>    async fn <a href="#method.is_amount_required" class="fn">is_amount_required</a>(
        &amp;mut self,
        client: &amp;(impl <a class="trait" href="../../../namada_io/client/trait.Client.html" title="trait namada_io::client::Client">Client</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a>),
        src: <a class="struct" href="../../../masp_primitives/transaction/components/amount/struct.ValueSum.html" title="struct masp_primitives::transaction::components::amount::ValueSum">ValueSum</a>&lt;(<a class="enum" href="../../../namada_core/token/enum.MaspDigitPos.html" title="enum namada_core::token::MaspDigitPos">MaspDigitPos</a>, <a class="enum" href="../../../namada_core/address/enum.Address.html" title="enum namada_core::address::Address">Address</a>), <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.i128.html">i128</a>&gt;,
        dest: <a class="struct" href="../../../masp_primitives/transaction/components/amount/struct.ValueSum.html" title="struct masp_primitives::transaction::components::amount::ValueSum">ValueSum</a>&lt;(<a class="enum" href="../../../namada_core/token/enum.MaspDigitPos.html" title="enum namada_core::token::MaspDigitPos">MaspDigitPos</a>, <a class="enum" href="../../../namada_core/address/enum.Address.html" title="enum namada_core::address::Address">Address</a>), <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.i128.html">i128</a>&gt;,
        delta: <a class="type" href="../../../masp_primitives/transaction/components/amount/type.I128Sum.html" title="type masp_primitives::transaction::components::amount::I128Sum">I128Sum</a>,
    ) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="../../../masp_primitives/transaction/components/amount/struct.ValueSum.html" title="struct masp_primitives::transaction::components::amount::ValueSum">ValueSum</a>&lt;(<a class="enum" href="../../../namada_core/token/enum.MaspDigitPos.html" title="enum namada_core::token::MaspDigitPos">MaspDigitPos</a>, <a class="enum" href="../../../namada_core/address/enum.Address.html" title="enum namada_core::address::Address">Address</a>), <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.i128.html">i128</a>&gt;&gt; { ... }
<span class="item-spacer"></span>    async fn <a href="#method.estimate_next_epoch_rewards" class="fn">estimate_next_epoch_rewards</a>(
        &amp;mut self,
        context: &amp;impl <a class="trait" href="../../../namada_io/trait.NamadaIo.html" title="trait namada_io::NamadaIo">NamadaIo</a>,
        raw_balance: &amp;<a class="type" href="../../../masp_primitives/transaction/components/amount/type.I128Sum.html" title="type masp_primitives::transaction::components::amount::I128Sum">I128Sum</a>,
    ) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="../../../namada_core/token/struct.DenominatedAmount.html" title="struct namada_core::token::DenominatedAmount">DenominatedAmount</a>, <a class="struct" href="../../../eyre/struct.Report.html" title="struct eyre::Report">Error</a>&gt; { ... }
<span class="item-spacer"></span>    async fn <a href="#method.collect_unspent_notes" class="fn">collect_unspent_notes</a>(
        &amp;mut self,
        context: &amp;impl <a class="trait" href="../../../namada_io/trait.NamadaIo.html" title="trait namada_io::NamadaIo">NamadaIo</a>,
        spent_notes: &amp;mut <a class="type" href="../type.SpentNotesTracker.html" title="type namada_shielded_token::masp::SpentNotesTracker">SpentNotesTracker</a>,
        sk: <a class="struct" href="../../../masp_primitives/zip32/sapling/struct.PseudoExtendedKey.html" title="struct masp_primitives::zip32::sapling::PseudoExtendedKey">PseudoExtendedKey</a>,
        target: <a class="struct" href="../../../masp_primitives/transaction/components/amount/struct.ValueSum.html" title="struct masp_primitives::transaction::components::amount::ValueSum">ValueSum</a>&lt;(<a class="enum" href="../../../namada_core/token/enum.MaspDigitPos.html" title="enum namada_core::token::MaspDigitPos">MaspDigitPos</a>, <a class="enum" href="../../../namada_core/address/enum.Address.html" title="enum namada_core::address::Address">Address</a>), <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.i128.html">i128</a>&gt;,
    ) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;(<a class="type" href="../../../masp_primitives/transaction/components/amount/type.I128Sum.html" title="type masp_primitives::transaction::components::amount::I128Sum">I128Sum</a>, <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;(<a class="struct" href="../../../masp_primitives/sapling/struct.Diversifier.html" title="struct masp_primitives::sapling::Diversifier">Diversifier</a>, <a class="struct" href="../../../masp_primitives/sapling/struct.Note.html" title="struct masp_primitives::sapling::Note">Note</a>, <a class="struct" href="../../../masp_primitives/merkle_tree/struct.MerklePath.html" title="struct masp_primitives::merkle_tree::MerklePath">MerklePath</a>&lt;<a class="struct" href="../../../masp_primitives/sapling/struct.Node.html" title="struct masp_primitives::sapling::Node">Node</a>&gt;)&gt;, <a class="type" href="../type.Conversions.html" title="type namada_shielded_token::masp::Conversions">Conversions</a>), <a class="struct" href="../../../eyre/struct.Report.html" title="struct eyre::Report">Error</a>&gt; { ... }
<span class="item-spacer"></span>    async fn <a href="#method.decode_combine_sum_to_epoch" class="fn">decode_combine_sum_to_epoch</a>&lt;C: <a class="trait" href="../../../namada_io/client/trait.Client.html" title="trait namada_io::client::Client">Client</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a>&gt;(
        &amp;mut self,
        client: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;C</a>,
        amt: <a class="type" href="../../../masp_primitives/transaction/components/amount/type.I128Sum.html" title="type masp_primitives::transaction::components::amount::I128Sum">I128Sum</a>,
        target_epoch: <a class="struct" href="../../struct.MaspEpoch.html" title="struct namada_shielded_token::MaspEpoch">MaspEpoch</a>,
    ) -&gt; (<a class="struct" href="../../../masp_primitives/transaction/components/amount/struct.ValueSum.html" title="struct masp_primitives::transaction::components::amount::ValueSum">ValueSum</a>&lt;<a class="enum" href="../../../namada_core/address/enum.Address.html" title="enum namada_core::address::Address">Address</a>, <a class="type" href="../../../namada_core/token/type.Change.html" title="type namada_core::token::Change">Change</a>&gt;, <a class="type" href="../../../masp_primitives/transaction/components/amount/type.I128Sum.html" title="type masp_primitives::transaction::components::amount::I128Sum">I128Sum</a>) { ... }
<span class="item-spacer"></span>    async fn <a href="#method.decode_combine_sum" class="fn">decode_combine_sum</a>&lt;C: <a class="trait" href="../../../namada_io/client/trait.Client.html" title="trait namada_io::client::Client">Client</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a>&gt;(
        &amp;mut self,
        client: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;C</a>,
        amt: <a class="type" href="../../../masp_primitives/transaction/components/amount/type.I128Sum.html" title="type masp_primitives::transaction::components::amount::I128Sum">I128Sum</a>,
    ) -&gt; (<a class="type" href="../type.MaspAmount.html" title="type namada_shielded_token::masp::MaspAmount">MaspAmount</a>, <a class="type" href="../../../masp_primitives/transaction/components/amount/type.I128Sum.html" title="type masp_primitives::transaction::components::amount::I128Sum">I128Sum</a>) { ... }
<span class="item-spacer"></span>    async fn <a href="#method.decode_sum" class="fn">decode_sum</a>&lt;C: <a class="trait" href="../../../namada_io/client/trait.Client.html" title="trait namada_io::client::Client">Client</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a>&gt;(
        &amp;mut self,
        client: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;C</a>,
        amt: <a class="type" href="../../../masp_primitives/transaction/components/amount/type.I128Sum.html" title="type masp_primitives::transaction::components::amount::I128Sum">I128Sum</a>,
    ) -&gt; (<a class="struct" href="../../../masp_primitives/transaction/components/amount/struct.ValueSum.html" title="struct masp_primitives::transaction::components::amount::ValueSum">ValueSum</a>&lt;(<a class="struct" href="../../../masp_primitives/asset_type/struct.AssetType.html" title="struct masp_primitives::asset_type::AssetType">AssetType</a>, <a class="struct" href="../../../namada_core/masp/struct.AssetData.html" title="struct namada_core::masp::AssetData">AssetData</a>), <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.i128.html">i128</a>&gt;, <a class="type" href="../../../masp_primitives/transaction/components/amount/type.I128Sum.html" title="type masp_primitives::transaction::components::amount::I128Sum">I128Sum</a>) { ... }
<span class="item-spacer"></span>    async fn <a href="#method.gen_shielded_transfer" class="fn">gen_shielded_transfer</a>(
        &amp;mut self,
        context: &amp;impl <a class="trait" href="../../../namada_io/trait.NamadaIo.html" title="trait namada_io::NamadaIo">NamadaIo</a>,
        data: <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="../struct.MaspTransferData.html" title="struct namada_shielded_token::masp::MaspTransferData">MaspTransferData</a>&gt;,
        fee_data: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="../struct.MaspFeeData.html" title="struct namada_shielded_token::masp::MaspFeeData">MaspFeeData</a>&gt;,
        expiration: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="../../../namada_core/time/struct.DateTimeUtc.html" title="struct namada_core::time::DateTimeUtc">DateTimeUtc</a>&gt;,
        bparams: &amp;mut impl <a class="trait" href="../../../masp_primitives/transaction/components/sapling/builder/trait.BuildParams.html" title="trait masp_primitives::transaction::components::sapling::builder::BuildParams">BuildParams</a>,
    ) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="../struct.ShieldedTransfer.html" title="struct namada_shielded_token::masp::ShieldedTransfer">ShieldedTransfer</a>&gt;, <a class="enum" href="../enum.TransferErr.html" title="enum namada_shielded_token::masp::TransferErr">TransferErr</a>&gt; { ... }
<span class="item-spacer"></span>    async fn <a href="#method.get_denom" class="fn">get_denom</a>(
        client: &amp;(impl <a class="trait" href="../../../namada_io/client/trait.Client.html" title="trait namada_io::client::Client">Client</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a>),
        denoms: &amp;mut <a class="struct" href="../../../nam_indexmap/map/struct.IndexMap.html" title="struct nam_indexmap::map::IndexMap">HashMap</a>&lt;<a class="enum" href="../../../namada_core/address/enum.Address.html" title="enum namada_core::address::Address">Address</a>, <a class="struct" href="../../../namada_core/token/struct.Denomination.html" title="struct namada_core::token::Denomination">Denomination</a>&gt;,
        token: &amp;<a class="enum" href="../../../namada_core/address/enum.Address.html" title="enum namada_core::address::Address">Address</a>,
    ) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="../../../namada_core/token/struct.Denomination.html" title="struct namada_core::token::Denomination">Denomination</a>, <a class="enum" href="../enum.TransferErr.html" title="enum namada_shielded_token::masp::TransferErr">TransferErr</a>&gt; { ... }
<span class="item-spacer"></span>    async fn <a href="#method.reorder_data_for_masp_transfer" class="fn">reorder_data_for_masp_transfer</a>(
        context: &amp;impl <a class="trait" href="../../../namada_io/trait.NamadaIo.html" title="trait namada_io::NamadaIo">NamadaIo</a>,
        data: <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="../struct.MaspTransferData.html" title="struct namada_shielded_token::masp::MaspTransferData">MaspTransferData</a>&gt;,
        fee_data: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="../struct.MaspFeeData.html" title="struct namada_shielded_token::masp::MaspFeeData">MaspFeeData</a>&gt;,
    ) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="../struct.MaspTxReorderedData.html" title="struct namada_shielded_token::masp::MaspTxReorderedData">MaspTxReorderedData</a>&gt;, <a class="enum" href="../enum.TransferErr.html" title="enum namada_shielded_token::masp::TransferErr">TransferErr</a>&gt; { ... }
<span class="item-spacer"></span>    async fn <a href="#method.compute_change" class="fn">compute_change</a>(
        &amp;mut self,
        client: &amp;(impl <a class="trait" href="../../../namada_io/client/trait.Client.html" title="trait namada_io::client::Client">Client</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a>),
        added_amt: <a class="type" href="../../../masp_primitives/transaction/components/amount/type.I128Sum.html" title="type masp_primitives::transaction::components::amount::I128Sum">I128Sum</a>,
        required_amt: <a class="struct" href="../../../masp_primitives/transaction/components/amount/struct.ValueSum.html" title="struct masp_primitives::transaction::components::amount::ValueSum">ValueSum</a>&lt;(<a class="enum" href="../../../namada_core/token/enum.MaspDigitPos.html" title="enum namada_core::token::MaspDigitPos">MaspDigitPos</a>, <a class="enum" href="../../../namada_core/address/enum.Address.html" title="enum namada_core::address::Address">Address</a>), <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.i128.html">i128</a>&gt;,
        denoms: &amp;mut <a class="struct" href="../../../nam_indexmap/map/struct.IndexMap.html" title="struct nam_indexmap::map::IndexMap">HashMap</a>&lt;<a class="enum" href="../../../namada_core/address/enum.Address.html" title="enum namada_core::address::Address">Address</a>, <a class="struct" href="../../../namada_core/token/struct.Denomination.html" title="struct namada_core::token::Denomination">Denomination</a>&gt;,
    ) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="type" href="../../../masp_primitives/transaction/components/amount/type.I128Sum.html" title="type masp_primitives::transaction::components::amount::I128Sum">I128Sum</a>, <a class="enum" href="../enum.TransferErr.html" title="enum namada_shielded_token::masp::TransferErr">TransferErr</a>&gt; { ... }
<span class="item-spacer"></span>    async fn <a href="#method.add_inputs" class="fn">add_inputs</a>(
        &amp;mut self,
        context: &amp;impl <a class="trait" href="../../../namada_io/trait.NamadaIo.html" title="trait namada_io::NamadaIo">NamadaIo</a>,
        builder: &amp;mut <a class="struct" href="../../../masp_primitives/transaction/builder/struct.Builder.html" title="struct masp_primitives::transaction::builder::Builder">Builder</a>&lt;<a class="struct" href="../../../masp_primitives/consensus/struct.TestNetwork.html" title="struct masp_primitives::consensus::TestNetwork">Network</a>, <a class="struct" href="../../../masp_primitives/zip32/sapling/struct.PseudoExtendedKey.html" title="struct masp_primitives::zip32::sapling::PseudoExtendedKey">PseudoExtendedKey</a>&gt;,
        source: &amp;<a class="enum" href="../../../namada_core/masp/enum.TransferSource.html" title="enum namada_core::masp::TransferSource">TransferSource</a>,
        token: &amp;<a class="enum" href="../../../namada_core/address/enum.Address.html" title="enum namada_core::address::Address">Address</a>,
        amount: &amp;<a class="struct" href="../../../namada_core/token/struct.Amount.html" title="struct namada_core::token::Amount">Amount</a>,
        epoch: <a class="struct" href="../../struct.MaspEpoch.html" title="struct namada_shielded_token::MaspEpoch">MaspEpoch</a>,
        denoms: &amp;mut <a class="struct" href="../../../nam_indexmap/map/struct.IndexMap.html" title="struct nam_indexmap::map::IndexMap">HashMap</a>&lt;<a class="enum" href="../../../namada_core/address/enum.Address.html" title="enum namada_core::address::Address">Address</a>, <a class="struct" href="../../../namada_core/token/struct.Denomination.html" title="struct namada_core::token::Denomination">Denomination</a>&gt;,
        notes_tracker: &amp;mut <a class="type" href="../type.SpentNotesTracker.html" title="type namada_shielded_token::masp::SpentNotesTracker">SpentNotesTracker</a>,
    ) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="type" href="../../../masp_primitives/transaction/components/amount/type.I128Sum.html" title="type masp_primitives::transaction::components::amount::I128Sum">I128Sum</a>&gt;, <a class="enum" href="../enum.TransferErr.html" title="enum namada_shielded_token::masp::TransferErr">TransferErr</a>&gt; { ... }
<span class="item-spacer"></span>    async fn <a href="#method.add_outputs" class="fn">add_outputs</a>(
        &amp;mut self,
        context: &amp;impl <a class="trait" href="../../../namada_io/trait.NamadaIo.html" title="trait namada_io::NamadaIo">NamadaIo</a>,
        builder: &amp;mut <a class="struct" href="../../../masp_primitives/transaction/builder/struct.Builder.html" title="struct masp_primitives::transaction::builder::Builder">Builder</a>&lt;<a class="struct" href="../../../masp_primitives/consensus/struct.TestNetwork.html" title="struct masp_primitives::consensus::TestNetwork">Network</a>, <a class="struct" href="../../../masp_primitives/zip32/sapling/struct.PseudoExtendedKey.html" title="struct masp_primitives::zip32::sapling::PseudoExtendedKey">PseudoExtendedKey</a>&gt;,
        source: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="enum" href="../../../namada_core/masp/enum.TransferSource.html" title="enum namada_core::masp::TransferSource">TransferSource</a>&gt;,
        target: &amp;<a class="enum" href="../../../namada_core/masp/enum.TransferTarget.html" title="enum namada_core::masp::TransferTarget">TransferTarget</a>,
        token: <a class="enum" href="../../../namada_core/address/enum.Address.html" title="enum namada_core::address::Address">Address</a>,
        amount: <a class="struct" href="../../../namada_core/token/struct.Amount.html" title="struct namada_core::token::Amount">Amount</a>,
        epoch: <a class="struct" href="../../struct.MaspEpoch.html" title="struct namada_shielded_token::MaspEpoch">MaspEpoch</a>,
        denoms: &amp;mut <a class="struct" href="../../../nam_indexmap/map/struct.IndexMap.html" title="struct nam_indexmap::map::IndexMap">HashMap</a>&lt;<a class="enum" href="../../../namada_core/address/enum.Address.html" title="enum namada_core::address::Address">Address</a>, <a class="struct" href="../../../namada_core/token/struct.Denomination.html" title="struct namada_core::token::Denomination">Denomination</a>&gt;,
    ) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>, <a class="enum" href="../enum.TransferErr.html" title="enum namada_shielded_token::masp::TransferErr">TransferErr</a>&gt; { ... }
<span class="item-spacer"></span>    async fn <a href="#method.get_asset_type" class="fn">get_asset_type</a>&lt;C: <a class="trait" href="../../../namada_io/client/trait.Client.html" title="trait namada_io::client::Client">Client</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a>&gt;(
        &amp;mut self,
        client: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;C</a>,
        decoded: &amp;mut <a class="struct" href="../../../namada_core/masp/struct.AssetData.html" title="struct namada_core::masp::AssetData">AssetData</a>,
    ) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="../../../masp_primitives/asset_type/struct.AssetType.html" title="struct masp_primitives::asset_type::AssetType">AssetType</a>, <a class="struct" href="../../../eyre/struct.Report.html" title="struct eyre::Report">Error</a>&gt; { ... }
<span class="item-spacer"></span>    async fn <a href="#method.convert_namada_amount_to_masp" class="fn">convert_namada_amount_to_masp</a>&lt;C: <a class="trait" href="../../../namada_io/client/trait.Client.html" title="trait namada_io::client::Client">Client</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a>&gt;(
        &amp;mut self,
        client: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;C</a>,
        epoch: <a class="struct" href="../../struct.MaspEpoch.html" title="struct namada_shielded_token::MaspEpoch">MaspEpoch</a>,
        token: &amp;<a class="enum" href="../../../namada_core/address/enum.Address.html" title="enum namada_core::address::Address">Address</a>,
        denom: <a class="struct" href="../../../namada_core/token/struct.Denomination.html" title="struct namada_core::token::Denomination">Denomination</a>,
        val: <a class="struct" href="../../../namada_core/token/struct.Amount.html" title="struct namada_core::token::Amount">Amount</a>,
    ) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;([<a class="struct" href="../../../masp_primitives/asset_type/struct.AssetType.html" title="struct masp_primitives::asset_type::AssetType">AssetType</a>; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.array.html">4</a>], <a class="type" href="../../../masp_primitives/transaction/components/amount/type.U64Sum.html" title="type masp_primitives::transaction::components::amount::U64Sum">U64Sum</a>), <a class="struct" href="../../../eyre/struct.Report.html" title="struct eyre::Report">Error</a>&gt; { ... }
</details>}</code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>The methods of the shielded wallet that depend on the <a href="trait.ShieldedQueries.html" title="trait namada_shielded_token::masp::shielded_wallet::ShieldedQueries"><code>ShieldedQueries</code></a>
trait. These cannot be overridden downstream.</p>
</div></details><h2 id="provided-methods" class="section-header">Provided Methods<a href="#provided-methods" class="anchor">§</a></h2><div class="methods"><details class="toggle method-toggle" open><summary><section id="method.precompute_asset_types" class="method"><a class="src rightside" href="../../../src/namada_shielded_token/masp/shielded_wallet.rs.html#437-463">source</a><h4 class="code-header">async fn <a href="#method.precompute_asset_types" class="fn">precompute_asset_types</a>&lt;C: <a class="trait" href="../../../namada_io/client/trait.Client.html" title="trait namada_io::client::Client">Client</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a>&gt;(
    &amp;mut self,
    client: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;C</a>,
    tokens: <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;&amp;<a class="enum" href="../../../namada_core/address/enum.Address.html" title="enum namada_core::address::Address">Address</a>&gt;,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>, <a class="struct" href="../../../eyre/struct.Report.html" title="struct eyre::Report">Error</a>&gt;</h4></section></summary><div class="docblock"><p>Use the addresses already stored in the wallet to precompute as many
asset types as possible.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.decode_asset_type" class="method"><a class="src rightside" href="../../../src/namada_shielded_token/masp/shielded_wallet.rs.html#468-499">source</a><h4 class="code-header">async fn <a href="#method.decode_asset_type" class="fn">decode_asset_type</a>&lt;C: <a class="trait" href="../../../namada_io/client/trait.Client.html" title="trait namada_io::client::Client">Client</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a>&gt;(
    &amp;mut self,
    client: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;C</a>,
    asset_type: <a class="struct" href="../../../masp_primitives/asset_type/struct.AssetType.html" title="struct masp_primitives::asset_type::AssetType">AssetType</a>,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="../../../namada_core/masp/struct.AssetData.html" title="struct namada_core::masp::AssetData">AssetData</a>&gt;</h4></section></summary><div class="docblock"><p>Query the ledger for the decoding of the given asset type and cache it
if it is found.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.query_allowed_conversion" class="method"><a class="src rightside" href="../../../src/namada_shielded_token/masp/shielded_wallet.rs.html#506-535">source</a><h4 class="code-header">async fn <a href="#method.query_allowed_conversion" class="fn">query_allowed_conversion</a>&lt;'a, C: <a class="trait" href="../../../namada_io/client/trait.Client.html" title="trait namada_io::client::Client">Client</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a>&gt;(
    &amp;'a mut self,
    client: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;C</a>,
    asset_type: <a class="struct" href="../../../masp_primitives/asset_type/struct.AssetType.html" title="struct masp_primitives::asset_type::AssetType">AssetType</a>,
    conversions: &amp;'a mut <a class="type" href="../type.Conversions.html" title="type namada_shielded_token::masp::Conversions">Conversions</a>,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>, <a class="struct" href="../../../eyre/struct.Report.html" title="struct eyre::Report">Error</a>&gt;</h4></section></summary><div class="docblock"><p>Query the ledger for the conversion that is allowed for the given asset
type and cache it. The target epoch must be greater than or equal to the
asset’s epoch. If the target epoch is None, then convert to the latest
epoch.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.compute_exchanged_amount" class="method"><a class="src rightside" href="../../../src/namada_shielded_token/masp/shielded_wallet.rs.html#542-588">source</a><h4 class="code-header">async fn <a href="#method.compute_exchanged_amount" class="fn">compute_exchanged_amount</a>(
    &amp;mut self,
    client: &amp;(impl <a class="trait" href="../../../namada_io/client/trait.Client.html" title="trait namada_io::client::Client">Client</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a>),
    io: &amp;impl <a class="trait" href="../../../namada_io/trait.Io.html" title="trait namada_io::Io">Io</a>,
    input: <a class="type" href="../../../masp_primitives/transaction/components/amount/type.I128Sum.html" title="type masp_primitives::transaction::components::amount::I128Sum">I128Sum</a>,
    conversions: <a class="type" href="../type.Conversions.html" title="type namada_shielded_token::masp::Conversions">Conversions</a>,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;(<a class="type" href="../../../masp_primitives/transaction/components/amount/type.I128Sum.html" title="type masp_primitives::transaction::components::amount::I128Sum">I128Sum</a>, <a class="type" href="../type.Conversions.html" title="type namada_shielded_token::masp::Conversions">Conversions</a>), <a class="struct" href="../../../eyre/struct.Report.html" title="struct eyre::Report">Error</a>&gt;</h4></section></summary><div class="docblock"><p>Convert the given amount into the latest asset types whilst making a
note of the conversions that were used. Note that this function does
not assume that allowed conversions from the ledger are expressed in
terms of the latest asset types.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.compute_exchanged_balance" class="method"><a class="src rightside" href="../../../src/namada_shielded_token/masp/shielded_wallet.rs.html#595-612">source</a><h4 class="code-header">async fn <a href="#method.compute_exchanged_balance" class="fn">compute_exchanged_balance</a>(
    &amp;mut self,
    client: &amp;(impl <a class="trait" href="../../../namada_io/client/trait.Client.html" title="trait namada_io::client::Client">Client</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a>),
    io: &amp;impl <a class="trait" href="../../../namada_io/trait.Io.html" title="trait namada_io::Io">Io</a>,
    vk: &amp;<a class="struct" href="../../../masp_primitives/sapling/struct.ViewingKey.html" title="struct masp_primitives::sapling::ViewingKey">ViewingKey</a>,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="type" href="../../../masp_primitives/transaction/components/amount/type.I128Sum.html" title="type masp_primitives::transaction::components::amount::I128Sum">I128Sum</a>&gt;, <a class="struct" href="../../../eyre/struct.Report.html" title="struct eyre::Report">Error</a>&gt;</h4></section></summary><div class="docblock"><p>Compute the total unspent notes associated with the viewing key in the
context and express that value in terms of the currently timestamped
asset types. If the key is not in the context, then we do not know the
balance and hence we return None.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.is_amount_required" class="method"><a class="src rightside" href="../../../src/namada_shielded_token/masp/shielded_wallet.rs.html#618-665">source</a><h4 class="code-header">async fn <a href="#method.is_amount_required" class="fn">is_amount_required</a>(
    &amp;mut self,
    client: &amp;(impl <a class="trait" href="../../../namada_io/client/trait.Client.html" title="trait namada_io::client::Client">Client</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a>),
    src: <a class="struct" href="../../../masp_primitives/transaction/components/amount/struct.ValueSum.html" title="struct masp_primitives::transaction::components::amount::ValueSum">ValueSum</a>&lt;(<a class="enum" href="../../../namada_core/token/enum.MaspDigitPos.html" title="enum namada_core::token::MaspDigitPos">MaspDigitPos</a>, <a class="enum" href="../../../namada_core/address/enum.Address.html" title="enum namada_core::address::Address">Address</a>), <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.i128.html">i128</a>&gt;,
    dest: <a class="struct" href="../../../masp_primitives/transaction/components/amount/struct.ValueSum.html" title="struct masp_primitives::transaction::components::amount::ValueSum">ValueSum</a>&lt;(<a class="enum" href="../../../namada_core/token/enum.MaspDigitPos.html" title="enum namada_core::token::MaspDigitPos">MaspDigitPos</a>, <a class="enum" href="../../../namada_core/address/enum.Address.html" title="enum namada_core::address::Address">Address</a>), <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.i128.html">i128</a>&gt;,
    delta: <a class="type" href="../../../masp_primitives/transaction/components/amount/type.I128Sum.html" title="type masp_primitives::transaction::components::amount::I128Sum">I128Sum</a>,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="../../../masp_primitives/transaction/components/amount/struct.ValueSum.html" title="struct masp_primitives::transaction::components::amount::ValueSum">ValueSum</a>&lt;(<a class="enum" href="../../../namada_core/token/enum.MaspDigitPos.html" title="enum namada_core::token::MaspDigitPos">MaspDigitPos</a>, <a class="enum" href="../../../namada_core/address/enum.Address.html" title="enum namada_core::address::Address">Address</a>), <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.i128.html">i128</a>&gt;&gt;</h4></section></summary><div class="docblock"><p>Determine if using the current note would actually bring us closer to
our target. Returns the contribution of the current note to the
target if so.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.estimate_next_epoch_rewards" class="method"><a class="src rightside" href="../../../src/namada_shielded_token/masp/shielded_wallet.rs.html#673-888">source</a><h4 class="code-header">async fn <a href="#method.estimate_next_epoch_rewards" class="fn">estimate_next_epoch_rewards</a>(
    &amp;mut self,
    context: &amp;impl <a class="trait" href="../../../namada_io/trait.NamadaIo.html" title="trait namada_io::NamadaIo">NamadaIo</a>,
    raw_balance: &amp;<a class="type" href="../../../masp_primitives/transaction/components/amount/type.I128Sum.html" title="type masp_primitives::transaction::components::amount::I128Sum">I128Sum</a>,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="../../../namada_core/token/struct.DenominatedAmount.html" title="struct namada_core::token::DenominatedAmount">DenominatedAmount</a>, <a class="struct" href="../../../eyre/struct.Report.html" title="struct eyre::Report">Error</a>&gt;</h4></section></summary><div class="docblock"><p>We estimate the next epoch rewards accumulated by the assets included in
the provided raw balance, i.e. a balance based only on the available
notes, without accounting for any conversions. The estimation is done by
assuming the same rewards rate on each asset as in the latest masp
epoch.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.collect_unspent_notes" class="method"><a class="src rightside" href="../../../src/namada_shielded_token/masp/shielded_wallet.rs.html#896-999">source</a><h4 class="code-header">async fn <a href="#method.collect_unspent_notes" class="fn">collect_unspent_notes</a>(
    &amp;mut self,
    context: &amp;impl <a class="trait" href="../../../namada_io/trait.NamadaIo.html" title="trait namada_io::NamadaIo">NamadaIo</a>,
    spent_notes: &amp;mut <a class="type" href="../type.SpentNotesTracker.html" title="type namada_shielded_token::masp::SpentNotesTracker">SpentNotesTracker</a>,
    sk: <a class="struct" href="../../../masp_primitives/zip32/sapling/struct.PseudoExtendedKey.html" title="struct masp_primitives::zip32::sapling::PseudoExtendedKey">PseudoExtendedKey</a>,
    target: <a class="struct" href="../../../masp_primitives/transaction/components/amount/struct.ValueSum.html" title="struct masp_primitives::transaction::components::amount::ValueSum">ValueSum</a>&lt;(<a class="enum" href="../../../namada_core/token/enum.MaspDigitPos.html" title="enum namada_core::token::MaspDigitPos">MaspDigitPos</a>, <a class="enum" href="../../../namada_core/address/enum.Address.html" title="enum namada_core::address::Address">Address</a>), <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.i128.html">i128</a>&gt;,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;(<a class="type" href="../../../masp_primitives/transaction/components/amount/type.I128Sum.html" title="type masp_primitives::transaction::components::amount::I128Sum">I128Sum</a>, <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;(<a class="struct" href="../../../masp_primitives/sapling/struct.Diversifier.html" title="struct masp_primitives::sapling::Diversifier">Diversifier</a>, <a class="struct" href="../../../masp_primitives/sapling/struct.Note.html" title="struct masp_primitives::sapling::Note">Note</a>, <a class="struct" href="../../../masp_primitives/merkle_tree/struct.MerklePath.html" title="struct masp_primitives::merkle_tree::MerklePath">MerklePath</a>&lt;<a class="struct" href="../../../masp_primitives/sapling/struct.Node.html" title="struct masp_primitives::sapling::Node">Node</a>&gt;)&gt;, <a class="type" href="../type.Conversions.html" title="type namada_shielded_token::masp::Conversions">Conversions</a>), <a class="struct" href="../../../eyre/struct.Report.html" title="struct eyre::Report">Error</a>&gt;</h4></section></summary><div class="docblock"><p>Collect enough unspent notes in this context to exceed the given amount
of the specified asset type. Return the total value accumulated plus
notes and the corresponding diversifiers/merkle paths that were used to
achieve the total value. Updates the changes map.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.decode_combine_sum_to_epoch" class="method"><a class="src rightside" href="../../../src/namada_shielded_token/masp/shielded_wallet.rs.html#1005-1040">source</a><h4 class="code-header">async fn <a href="#method.decode_combine_sum_to_epoch" class="fn">decode_combine_sum_to_epoch</a>&lt;C: <a class="trait" href="../../../namada_io/client/trait.Client.html" title="trait namada_io::client::Client">Client</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a>&gt;(
    &amp;mut self,
    client: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;C</a>,
    amt: <a class="type" href="../../../masp_primitives/transaction/components/amount/type.I128Sum.html" title="type masp_primitives::transaction::components::amount::I128Sum">I128Sum</a>,
    target_epoch: <a class="struct" href="../../struct.MaspEpoch.html" title="struct namada_shielded_token::MaspEpoch">MaspEpoch</a>,
) -&gt; (<a class="struct" href="../../../masp_primitives/transaction/components/amount/struct.ValueSum.html" title="struct masp_primitives::transaction::components::amount::ValueSum">ValueSum</a>&lt;<a class="enum" href="../../../namada_core/address/enum.Address.html" title="enum namada_core::address::Address">Address</a>, <a class="type" href="../../../namada_core/token/type.Change.html" title="type namada_core::token::Change">Change</a>&gt;, <a class="type" href="../../../masp_primitives/transaction/components/amount/type.I128Sum.html" title="type masp_primitives::transaction::components::amount::I128Sum">I128Sum</a>)</h4></section></summary><div class="docblock"><p>Convert an amount whose units are AssetTypes to one whose units are
Addresses that they decode to. All asset types not corresponding to
the given epoch are ignored.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.decode_combine_sum" class="method"><a class="src rightside" href="../../../src/namada_shielded_token/masp/shielded_wallet.rs.html#1045-1069">source</a><h4 class="code-header">async fn <a href="#method.decode_combine_sum" class="fn">decode_combine_sum</a>&lt;C: <a class="trait" href="../../../namada_io/client/trait.Client.html" title="trait namada_io::client::Client">Client</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a>&gt;(
    &amp;mut self,
    client: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;C</a>,
    amt: <a class="type" href="../../../masp_primitives/transaction/components/amount/type.I128Sum.html" title="type masp_primitives::transaction::components::amount::I128Sum">I128Sum</a>,
) -&gt; (<a class="type" href="../type.MaspAmount.html" title="type namada_shielded_token::masp::MaspAmount">MaspAmount</a>, <a class="type" href="../../../masp_primitives/transaction/components/amount/type.I128Sum.html" title="type masp_primitives::transaction::components::amount::I128Sum">I128Sum</a>)</h4></section></summary><div class="docblock"><p>Convert an amount whose units are AssetTypes to one whose units are
Addresses that they decode to and combine the denominations.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.decode_sum" class="method"><a class="src rightside" href="../../../src/namada_shielded_token/masp/shielded_wallet.rs.html#1074-1092">source</a><h4 class="code-header">async fn <a href="#method.decode_sum" class="fn">decode_sum</a>&lt;C: <a class="trait" href="../../../namada_io/client/trait.Client.html" title="trait namada_io::client::Client">Client</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a>&gt;(
    &amp;mut self,
    client: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;C</a>,
    amt: <a class="type" href="../../../masp_primitives/transaction/components/amount/type.I128Sum.html" title="type masp_primitives::transaction::components::amount::I128Sum">I128Sum</a>,
) -&gt; (<a class="struct" href="../../../masp_primitives/transaction/components/amount/struct.ValueSum.html" title="struct masp_primitives::transaction::components::amount::ValueSum">ValueSum</a>&lt;(<a class="struct" href="../../../masp_primitives/asset_type/struct.AssetType.html" title="struct masp_primitives::asset_type::AssetType">AssetType</a>, <a class="struct" href="../../../namada_core/masp/struct.AssetData.html" title="struct namada_core::masp::AssetData">AssetData</a>), <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.i128.html">i128</a>&gt;, <a class="type" href="../../../masp_primitives/transaction/components/amount/type.I128Sum.html" title="type masp_primitives::transaction::components::amount::I128Sum">I128Sum</a>)</h4></section></summary><div class="docblock"><p>Convert an amount whose units are AssetTypes to one whose units are
Addresses that they decode to.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.gen_shielded_transfer" class="method"><a class="src rightside" href="../../../src/namada_shielded_token/masp/shielded_wallet.rs.html#1102-1308">source</a><h4 class="code-header">async fn <a href="#method.gen_shielded_transfer" class="fn">gen_shielded_transfer</a>(
    &amp;mut self,
    context: &amp;impl <a class="trait" href="../../../namada_io/trait.NamadaIo.html" title="trait namada_io::NamadaIo">NamadaIo</a>,
    data: <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="../struct.MaspTransferData.html" title="struct namada_shielded_token::masp::MaspTransferData">MaspTransferData</a>&gt;,
    fee_data: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="../struct.MaspFeeData.html" title="struct namada_shielded_token::masp::MaspFeeData">MaspFeeData</a>&gt;,
    expiration: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="../../../namada_core/time/struct.DateTimeUtc.html" title="struct namada_core::time::DateTimeUtc">DateTimeUtc</a>&gt;,
    bparams: &amp;mut impl <a class="trait" href="../../../masp_primitives/transaction/components/sapling/builder/trait.BuildParams.html" title="trait masp_primitives::transaction::components::sapling::builder::BuildParams">BuildParams</a>,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="../struct.ShieldedTransfer.html" title="struct namada_shielded_token::masp::ShieldedTransfer">ShieldedTransfer</a>&gt;, <a class="enum" href="../enum.TransferErr.html" title="enum namada_shielded_token::masp::TransferErr">TransferErr</a>&gt;</h4></section></summary><div class="docblock"><p>Make shielded components to embed within a Transfer object. If no
shielded payment address nor spending key is specified, then no
shielded components are produced. Otherwise, a transaction containing
nullifiers and/or note commitments are produced. Dummy transparent
UTXOs are sometimes used to make transactions balanced, but it is
understood that transparent account changes are effected only by the
amounts and signatures specified by the containing Transfer object.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.get_denom" class="method"><a class="src rightside" href="../../../src/namada_shielded_token/masp/shielded_wallet.rs.html#1312-1327">source</a><h4 class="code-header">async fn <a href="#method.get_denom" class="fn">get_denom</a>(
    client: &amp;(impl <a class="trait" href="../../../namada_io/client/trait.Client.html" title="trait namada_io::client::Client">Client</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a>),
    denoms: &amp;mut <a class="struct" href="../../../nam_indexmap/map/struct.IndexMap.html" title="struct nam_indexmap::map::IndexMap">HashMap</a>&lt;<a class="enum" href="../../../namada_core/address/enum.Address.html" title="enum namada_core::address::Address">Address</a>, <a class="struct" href="../../../namada_core/token/struct.Denomination.html" title="struct namada_core::token::Denomination">Denomination</a>&gt;,
    token: &amp;<a class="enum" href="../../../namada_core/address/enum.Address.html" title="enum namada_core::address::Address">Address</a>,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="../../../namada_core/token/struct.Denomination.html" title="struct namada_core::token::Denomination">Denomination</a>, <a class="enum" href="../enum.TransferErr.html" title="enum namada_shielded_token::masp::TransferErr">TransferErr</a>&gt;</h4></section></summary><div class="docblock"><p>Either get the denomination from the cache or query it</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.reorder_data_for_masp_transfer" class="method"><a class="src rightside" href="../../../src/namada_shielded_token/masp/shielded_wallet.rs.html#1336-1430">source</a><h4 class="code-header">async fn <a href="#method.reorder_data_for_masp_transfer" class="fn">reorder_data_for_masp_transfer</a>(
    context: &amp;impl <a class="trait" href="../../../namada_io/trait.NamadaIo.html" title="trait namada_io::NamadaIo">NamadaIo</a>,
    data: <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="../struct.MaspTransferData.html" title="struct namada_shielded_token::masp::MaspTransferData">MaspTransferData</a>&gt;,
    fee_data: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="../struct.MaspFeeData.html" title="struct namada_shielded_token::masp::MaspFeeData">MaspFeeData</a>&gt;,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="../struct.MaspTxReorderedData.html" title="struct namada_shielded_token::masp::MaspTxReorderedData">MaspTxReorderedData</a>&gt;, <a class="enum" href="../enum.TransferErr.html" title="enum namada_shielded_token::masp::TransferErr">TransferErr</a>&gt;</h4></section></summary><div class="docblock"><p>Group all the information for every source/token and target/token
couple, and extract the denominations for all the tokens involved
(expect the one involved in the fees if needed). This step is
required so that we can collect the amount required for every couple
and pass it to the appropriate function so that notes can be
collected based on the correct amount.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.compute_change" class="method"><a class="src rightside" href="../../../src/namada_shielded_token/masp/shielded_wallet.rs.html#1435-1493">source</a><h4 class="code-header">async fn <a href="#method.compute_change" class="fn">compute_change</a>(
    &amp;mut self,
    client: &amp;(impl <a class="trait" href="../../../namada_io/client/trait.Client.html" title="trait namada_io::client::Client">Client</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a>),
    added_amt: <a class="type" href="../../../masp_primitives/transaction/components/amount/type.I128Sum.html" title="type masp_primitives::transaction::components::amount::I128Sum">I128Sum</a>,
    required_amt: <a class="struct" href="../../../masp_primitives/transaction/components/amount/struct.ValueSum.html" title="struct masp_primitives::transaction::components::amount::ValueSum">ValueSum</a>&lt;(<a class="enum" href="../../../namada_core/token/enum.MaspDigitPos.html" title="enum namada_core::token::MaspDigitPos">MaspDigitPos</a>, <a class="enum" href="../../../namada_core/address/enum.Address.html" title="enum namada_core::address::Address">Address</a>), <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.i128.html">i128</a>&gt;,
    denoms: &amp;mut <a class="struct" href="../../../nam_indexmap/map/struct.IndexMap.html" title="struct nam_indexmap::map::IndexMap">HashMap</a>&lt;<a class="enum" href="../../../namada_core/address/enum.Address.html" title="enum namada_core::address::Address">Address</a>, <a class="struct" href="../../../namada_core/token/struct.Denomination.html" title="struct namada_core::token::Denomination">Denomination</a>&gt;,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="type" href="../../../masp_primitives/transaction/components/amount/type.I128Sum.html" title="type masp_primitives::transaction::components::amount::I128Sum">I128Sum</a>, <a class="enum" href="../enum.TransferErr.html" title="enum namada_shielded_token::masp::TransferErr">TransferErr</a>&gt;</h4></section></summary><div class="docblock"><p>Computes added_amt - required_amt taking care of denominations and asset
decodings. Error out if required_amt is not less than added_amt.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.add_inputs" class="method"><a class="src rightside" href="../../../src/namada_shielded_token/masp/shielded_wallet.rs.html#1499-1654">source</a><h4 class="code-header">async fn <a href="#method.add_inputs" class="fn">add_inputs</a>(
    &amp;mut self,
    context: &amp;impl <a class="trait" href="../../../namada_io/trait.NamadaIo.html" title="trait namada_io::NamadaIo">NamadaIo</a>,
    builder: &amp;mut <a class="struct" href="../../../masp_primitives/transaction/builder/struct.Builder.html" title="struct masp_primitives::transaction::builder::Builder">Builder</a>&lt;<a class="struct" href="../../../masp_primitives/consensus/struct.TestNetwork.html" title="struct masp_primitives::consensus::TestNetwork">Network</a>, <a class="struct" href="../../../masp_primitives/zip32/sapling/struct.PseudoExtendedKey.html" title="struct masp_primitives::zip32::sapling::PseudoExtendedKey">PseudoExtendedKey</a>&gt;,
    source: &amp;<a class="enum" href="../../../namada_core/masp/enum.TransferSource.html" title="enum namada_core::masp::TransferSource">TransferSource</a>,
    token: &amp;<a class="enum" href="../../../namada_core/address/enum.Address.html" title="enum namada_core::address::Address">Address</a>,
    amount: &amp;<a class="struct" href="../../../namada_core/token/struct.Amount.html" title="struct namada_core::token::Amount">Amount</a>,
    epoch: <a class="struct" href="../../struct.MaspEpoch.html" title="struct namada_shielded_token::MaspEpoch">MaspEpoch</a>,
    denoms: &amp;mut <a class="struct" href="../../../nam_indexmap/map/struct.IndexMap.html" title="struct nam_indexmap::map::IndexMap">HashMap</a>&lt;<a class="enum" href="../../../namada_core/address/enum.Address.html" title="enum namada_core::address::Address">Address</a>, <a class="struct" href="../../../namada_core/token/struct.Denomination.html" title="struct namada_core::token::Denomination">Denomination</a>&gt;,
    notes_tracker: &amp;mut <a class="type" href="../type.SpentNotesTracker.html" title="type namada_shielded_token::masp::SpentNotesTracker">SpentNotesTracker</a>,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="type" href="../../../masp_primitives/transaction/components/amount/type.I128Sum.html" title="type masp_primitives::transaction::components::amount::I128Sum">I128Sum</a>&gt;, <a class="enum" href="../enum.TransferErr.html" title="enum namada_shielded_token::masp::TransferErr">TransferErr</a>&gt;</h4></section></summary><div class="docblock"><p>Add the necessary transaction inputs to the builder. The supplied epoch
must be the current epoch.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.add_outputs" class="method"><a class="src rightside" href="../../../src/namada_shielded_token/masp/shielded_wallet.rs.html#1659-1765">source</a><h4 class="code-header">async fn <a href="#method.add_outputs" class="fn">add_outputs</a>(
    &amp;mut self,
    context: &amp;impl <a class="trait" href="../../../namada_io/trait.NamadaIo.html" title="trait namada_io::NamadaIo">NamadaIo</a>,
    builder: &amp;mut <a class="struct" href="../../../masp_primitives/transaction/builder/struct.Builder.html" title="struct masp_primitives::transaction::builder::Builder">Builder</a>&lt;<a class="struct" href="../../../masp_primitives/consensus/struct.TestNetwork.html" title="struct masp_primitives::consensus::TestNetwork">Network</a>, <a class="struct" href="../../../masp_primitives/zip32/sapling/struct.PseudoExtendedKey.html" title="struct masp_primitives::zip32::sapling::PseudoExtendedKey">PseudoExtendedKey</a>&gt;,
    source: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="enum" href="../../../namada_core/masp/enum.TransferSource.html" title="enum namada_core::masp::TransferSource">TransferSource</a>&gt;,
    target: &amp;<a class="enum" href="../../../namada_core/masp/enum.TransferTarget.html" title="enum namada_core::masp::TransferTarget">TransferTarget</a>,
    token: <a class="enum" href="../../../namada_core/address/enum.Address.html" title="enum namada_core::address::Address">Address</a>,
    amount: <a class="struct" href="../../../namada_core/token/struct.Amount.html" title="struct namada_core::token::Amount">Amount</a>,
    epoch: <a class="struct" href="../../struct.MaspEpoch.html" title="struct namada_shielded_token::MaspEpoch">MaspEpoch</a>,
    denoms: &amp;mut <a class="struct" href="../../../nam_indexmap/map/struct.IndexMap.html" title="struct nam_indexmap::map::IndexMap">HashMap</a>&lt;<a class="enum" href="../../../namada_core/address/enum.Address.html" title="enum namada_core::address::Address">Address</a>, <a class="struct" href="../../../namada_core/token/struct.Denomination.html" title="struct namada_core::token::Denomination">Denomination</a>&gt;,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>, <a class="enum" href="../enum.TransferErr.html" title="enum namada_shielded_token::masp::TransferErr">TransferErr</a>&gt;</h4></section></summary><div class="docblock"><p>Add the necessary transaction outputs to the builder</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.get_asset_type" class="method"><a class="src rightside" href="../../../src/namada_shielded_token/masp/shielded_wallet.rs.html#1771-1793">source</a><h4 class="code-header">async fn <a href="#method.get_asset_type" class="fn">get_asset_type</a>&lt;C: <a class="trait" href="../../../namada_io/client/trait.Client.html" title="trait namada_io::client::Client">Client</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a>&gt;(
    &amp;mut self,
    client: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;C</a>,
    decoded: &amp;mut <a class="struct" href="../../../namada_core/masp/struct.AssetData.html" title="struct namada_core::masp::AssetData">AssetData</a>,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="../../../masp_primitives/asset_type/struct.AssetType.html" title="struct masp_primitives::asset_type::AssetType">AssetType</a>, <a class="struct" href="../../../eyre/struct.Report.html" title="struct eyre::Report">Error</a>&gt;</h4></section></summary><div class="docblock"><p>Get the asset type with the given epoch, token, and denomination. If it
does not exist in the protocol, then remove the timestamp. Make sure to
store the derived AssetType so that future decoding is possible.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.convert_namada_amount_to_masp" class="method"><a class="src rightside" href="../../../src/namada_shielded_token/masp/shielded_wallet.rs.html#1797-1828">source</a><h4 class="code-header">async fn <a href="#method.convert_namada_amount_to_masp" class="fn">convert_namada_amount_to_masp</a>&lt;C: <a class="trait" href="../../../namada_io/client/trait.Client.html" title="trait namada_io::client::Client">Client</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a>&gt;(
    &amp;mut self,
    client: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;C</a>,
    epoch: <a class="struct" href="../../struct.MaspEpoch.html" title="struct namada_shielded_token::MaspEpoch">MaspEpoch</a>,
    token: &amp;<a class="enum" href="../../../namada_core/address/enum.Address.html" title="enum namada_core::address::Address">Address</a>,
    denom: <a class="struct" href="../../../namada_core/token/struct.Denomination.html" title="struct namada_core::token::Denomination">Denomination</a>,
    val: <a class="struct" href="../../../namada_core/token/struct.Amount.html" title="struct namada_core::token::Amount">Amount</a>,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;([<a class="struct" href="../../../masp_primitives/asset_type/struct.AssetType.html" title="struct masp_primitives::asset_type::AssetType">AssetType</a>; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.array.html">4</a>], <a class="type" href="../../../masp_primitives/transaction/components/amount/type.U64Sum.html" title="type masp_primitives::transaction::components::amount::U64Sum">U64Sum</a>), <a class="struct" href="../../../eyre/struct.Report.html" title="struct eyre::Report">Error</a>&gt;</h4></section></summary><div class="docblock"><p>Convert Namada amount and token type to MASP equivalents</p>
</div></details></div><h2 id="object-safety" class="section-header">Object Safety<a href="#object-safety" class="anchor">§</a></h2><div class="object-safety-info">This trait is <b>not</b> <a href="https://doc.rust-lang.org/nightly/reference/items/traits.html#object-safety">object safe</a>.</div><h2 id="implementors" class="section-header">Implementors<a href="#implementors" class="anchor">§</a></h2><div id="implementors-list"><section id="impl-ShieldedApi%3CU%3E-for-T" class="impl"><a class="src rightside" href="../../../src/namada_shielded_token/masp/shielded_wallet.rs.html#1831-1834">source</a><a href="#impl-ShieldedApi%3CU%3E-for-T" class="anchor">§</a><h3 class="code-header">impl&lt;U: <a class="trait" href="../trait.ShieldedUtils.html" title="trait namada_shielded_token::masp::ShieldedUtils">ShieldedUtils</a> + <a class="trait" href="../../../namada_io/trait.MaybeSend.html" title="trait namada_io::MaybeSend">MaybeSend</a> + <a class="trait" href="../../../namada_io/trait.MaybeSync.html" title="trait namada_io::MaybeSync">MaybeSync</a>, T: <a class="trait" href="trait.ShieldedQueries.html" title="trait namada_shielded_token::masp::shielded_wallet::ShieldedQueries">ShieldedQueries</a>&lt;U&gt;&gt; <a class="trait" href="trait.ShieldedApi.html" title="trait namada_shielded_token::masp::shielded_wallet::ShieldedApi">ShieldedApi</a>&lt;U&gt; for T</h3></section></div><script src="../../../trait.impl/namada_shielded_token/masp/shielded_wallet/trait.ShieldedApi.js" async></script></section></div></main></body></html>