<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="A type which can be transformed into a `struct@Hash`, either by retrieving a cached hash, computing a hash for it, or some combination of both."><title>GetHash in penumbra_sdk_tct::internal::hash - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-46f98efaafac5295.ttf.woff2,FiraSans-Regular-018c141bf0843ffd.woff2,FiraSans-Medium-8f9a781e4970d388.woff2,SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2,SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../../static.files/rustdoc-b0742ba02757f159.css"><meta name="rustdoc-vars" data-root-path="../../../" data-static-root-path="../../../static.files/" data-current-crate="penumbra_sdk_tct" data-themes="" data-resource-suffix="" data-rustdoc-version="1.84.0-nightly (9322d183f 2024-10-14)" data-channel="nightly" data-search-js="search-e056c65ede92db13.js" data-settings-js="settings-805db61a62df4bd2.js" ><script src="../../../static.files/storage-1d39b6787ed640ff.js"></script><script defer src="sidebar-items.js"></script><script defer src="../../../static.files/main-f070b9041d14864c.js"></script><noscript><link rel="stylesheet" href="../../../static.files/noscript-0111fcff984fae8f.css"></noscript><link rel="alternate icon" type="image/png" href="../../../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../../../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc trait"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../../penumbra_sdk_tct/index.html">penumbra_<wbr>sdk_<wbr>tct</a><span class="version">1.0.1</span></h2></div><div class="sidebar-elems"><section id="rustdoc-toc"><h2 class="location"><a href="#">GetHash</a></h2><h3><a href="#required-methods">Required Methods</a></h3><ul class="block"><li><a href="#tymethod.cached_hash" title="cached_hash">cached_hash</a></li><li><a href="#tymethod.hash" title="hash">hash</a></li></ul><h3><a href="#provided-methods">Provided Methods</a></h3><ul class="block"><li><a href="#method.clear_cached_hash" title="clear_cached_hash">clear_cached_hash</a></li></ul><h3><a href="#foreign-impls">Implementations on Foreign Types</a></h3><ul class="block"><li><a href="#impl-GetHash-for-%26T" title="&#38;T">&#38;T</a></li><li><a href="#impl-GetHash-for-%26mut+T" title="&#38;mut T">&#38;mut T</a></li></ul><h3><a href="#implementors">Implementors</a></h3></section><div id="rustdoc-modnav"><h2><a href="index.html">In penumbra_<wbr>sdk_<wbr>tct::<wbr>internal::<wbr>hash</a></h2></div></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><span class="rustdoc-breadcrumbs"><a href="../../index.html">penumbra_sdk_tct</a>::<wbr><a href="../index.html">internal</a>::<wbr><a href="index.html">hash</a></span><h1>Trait <span class="trait">GetHash</span><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../../../src/penumbra_sdk_tct/internal/hash.rs.html#23-47">source</a> </span></div><pre class="rust item-decl"><code>pub trait GetHash {
    // Required methods
    fn <a href="#tymethod.hash" class="fn">hash</a>(&amp;self) -&gt; <a class="struct" href="struct.Hash.html" title="struct penumbra_sdk_tct::internal::hash::Hash">Hash</a>;
<span class="item-spacer"></span>    fn <a href="#tymethod.cached_hash" class="fn">cached_hash</a>(&amp;self) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="struct.Hash.html" title="struct penumbra_sdk_tct::internal::hash::Hash">Hash</a>&gt;;

    // Provided method
    fn <a href="#method.clear_cached_hash" class="fn">clear_cached_hash</a>(&amp;self) { ... }
}</code></pre><span class="item-info"><div class="stab portability">Available on <strong>crate feature <code>internal</code></strong> only.</div></span><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>A type which can be transformed into a <a href="struct.Hash.html" title="struct penumbra_sdk_tct::internal::hash::Hash"><code>Hash</code></a>, either by retrieving a cached hash, computing a
hash for it, or some combination of both.</p>
</div></details><h2 id="required-methods" class="section-header">Required Methods<a href="#required-methods" class="anchor">§</a></h2><div class="methods"><details class="toggle method-toggle" open><summary><section id="tymethod.hash" class="method"><a class="src rightside" href="../../../src/penumbra_sdk_tct/internal/hash.rs.html#31">source</a><h4 class="code-header">fn <a href="#tymethod.hash" class="fn">hash</a>(&amp;self) -&gt; <a class="struct" href="struct.Hash.html" title="struct penumbra_sdk_tct::internal::hash::Hash">Hash</a></h4></section></summary><div class="docblock"><p>Get the hash of this item.</p>
<h5 id="correctness"><a class="doc-anchor" href="#correctness">§</a>Correctness</h5>
<p>This function must return the same hash for the same item. It is permissible to use internal
mutability to cache hashes, but caching must ensure that the item cannot be mutated without
recalculating the hash.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.cached_hash" class="method"><a class="src rightside" href="../../../src/penumbra_sdk_tct/internal/hash.rs.html#41">source</a><h4 class="code-header">fn <a href="#tymethod.cached_hash" class="fn">cached_hash</a>(&amp;self) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="struct.Hash.html" title="struct penumbra_sdk_tct::internal::hash::Hash">Hash</a>&gt;</h4></section></summary><div class="docblock"><p>Get the hash of this item, only if the hash is already cached and does not require
recalculation.</p>
<h5 id="correctness-1"><a class="doc-anchor" href="#correctness-1">§</a>Correctness</h5>
<p>It will not cause correctness issues to return a hash after recalculating it, but users of
this function expect it to be reliably fast, so it may cause unexpected performance issues
if this function performs any significant work.</p>
</div></details></div><h2 id="provided-methods" class="section-header">Provided Methods<a href="#provided-methods" class="anchor">§</a></h2><div class="methods"><details class="toggle method-toggle" open><summary><section id="method.clear_cached_hash" class="method"><a class="src rightside" href="../../../src/penumbra_sdk_tct/internal/hash.rs.html#46">source</a><h4 class="code-header">fn <a href="#method.clear_cached_hash" class="fn">clear_cached_hash</a>(&amp;self)</h4></section></summary><div class="docblock"><p>If there is a hash cached, clear the cache.</p>
<p>By default, this does nothing. Override this if there is a cache.</p>
</div></details></div><h2 id="foreign-impls" class="section-header">Implementations on Foreign Types<a href="#foreign-impls" class="anchor">§</a></h2><details class="toggle implementors-toggle"><summary><section id="impl-GetHash-for-%26T" class="impl"><a class="src rightside" href="../../../src/penumbra_sdk_tct/internal/hash.rs.html#49-59">source</a><a href="#impl-GetHash-for-%26T" class="anchor">§</a><h3 class="code-header">impl&lt;T: <a class="trait" href="trait.GetHash.html" title="trait penumbra_sdk_tct::internal::hash::GetHash">GetHash</a>&gt; <a class="trait" href="trait.GetHash.html" title="trait penumbra_sdk_tct::internal::hash::GetHash">GetHash</a> for <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;T</a></h3></section></summary><div class="impl-items"><section id="method.hash" class="method trait-impl"><a class="src rightside" href="../../../src/penumbra_sdk_tct/internal/hash.rs.html#51-53">source</a><a href="#method.hash" class="anchor">§</a><h4 class="code-header">fn <a href="#tymethod.hash" class="fn">hash</a>(&amp;self) -&gt; <a class="struct" href="struct.Hash.html" title="struct penumbra_sdk_tct::internal::hash::Hash">Hash</a></h4></section><section id="method.cached_hash" class="method trait-impl"><a class="src rightside" href="../../../src/penumbra_sdk_tct/internal/hash.rs.html#56-58">source</a><a href="#method.cached_hash" class="anchor">§</a><h4 class="code-header">fn <a href="#tymethod.cached_hash" class="fn">cached_hash</a>(&amp;self) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="struct.Hash.html" title="struct penumbra_sdk_tct::internal::hash::Hash">Hash</a>&gt;</h4></section></div></details><details class="toggle implementors-toggle"><summary><section id="impl-GetHash-for-%26mut+T" class="impl"><a class="src rightside" href="../../../src/penumbra_sdk_tct/internal/hash.rs.html#61-71">source</a><a href="#impl-GetHash-for-%26mut+T" class="anchor">§</a><h3 class="code-header">impl&lt;T: <a class="trait" href="trait.GetHash.html" title="trait penumbra_sdk_tct::internal::hash::GetHash">GetHash</a>&gt; <a class="trait" href="trait.GetHash.html" title="trait penumbra_sdk_tct::internal::hash::GetHash">GetHash</a> for <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;mut T</a></h3></section></summary><div class="impl-items"><section id="method.hash-1" class="method trait-impl"><a class="src rightside" href="../../../src/penumbra_sdk_tct/internal/hash.rs.html#63-65">source</a><a href="#method.hash-1" class="anchor">§</a><h4 class="code-header">fn <a href="#tymethod.hash" class="fn">hash</a>(&amp;self) -&gt; <a class="struct" href="struct.Hash.html" title="struct penumbra_sdk_tct::internal::hash::Hash">Hash</a></h4></section><section id="method.cached_hash-1" class="method trait-impl"><a class="src rightside" href="../../../src/penumbra_sdk_tct/internal/hash.rs.html#68-70">source</a><a href="#method.cached_hash-1" class="anchor">§</a><h4 class="code-header">fn <a href="#tymethod.cached_hash" class="fn">cached_hash</a>(&amp;self) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="struct.Hash.html" title="struct penumbra_sdk_tct::internal::hash::Hash">Hash</a>&gt;</h4></section></div></details><h2 id="implementors" class="section-header">Implementors<a href="#implementors" class="anchor">§</a></h2><div id="implementors-list"><section id="impl-GetHash-for-Node%3C'_%3E" class="impl"><a class="src rightside" href="../../../src/penumbra_sdk_tct/structure.rs.html#108-120">source</a><a href="#impl-GetHash-for-Node%3C'_%3E" class="anchor">§</a><h3 class="code-header">impl <a class="trait" href="trait.GetHash.html" title="trait penumbra_sdk_tct::internal::hash::GetHash">GetHash</a> for penumbra_sdk_tct::structure::<a class="struct" href="../../structure/struct.Node.html" title="struct penumbra_sdk_tct::structure::Node">Node</a>&lt;'_&gt;</h3></section><section id="impl-GetHash-for-Item" class="impl"><a class="src rightside" href="../../../src/penumbra_sdk_tct/internal/complete/item.rs.html#17-27">source</a><a href="#impl-GetHash-for-Item" class="anchor">§</a><h3 class="code-header">impl <a class="trait" href="trait.GetHash.html" title="trait penumbra_sdk_tct::internal::hash::GetHash">GetHash</a> for penumbra_sdk_tct::internal::complete::<a class="struct" href="../complete/struct.Item.html" title="struct penumbra_sdk_tct::internal::complete::Item">Item</a></h3></section><section id="impl-GetHash-for-Item-1" class="impl"><a class="src rightside" href="../../../src/penumbra_sdk_tct/internal/frontier/item.rs.html#25-38">source</a><a href="#impl-GetHash-for-Item-1" class="anchor">§</a><h3 class="code-header">impl <a class="trait" href="trait.GetHash.html" title="trait penumbra_sdk_tct::internal::hash::GetHash">GetHash</a> for penumbra_sdk_tct::internal::frontier::<a class="struct" href="../frontier/struct.Item.html" title="struct penumbra_sdk_tct::internal::frontier::Item">Item</a></h3></section><section id="impl-GetHash-for-Node%3CChild%3E" class="impl"><a class="src rightside" href="../../../src/penumbra_sdk_tct/internal/frontier/node.rs.html#51-98">source</a><a href="#impl-GetHash-for-Node%3CChild%3E" class="anchor">§</a><h3 class="code-header">impl&lt;Child: <a class="trait" href="../frontier/trait.Focus.html" title="trait penumbra_sdk_tct::internal::frontier::Focus">Focus</a>&gt; <a class="trait" href="trait.GetHash.html" title="trait penumbra_sdk_tct::internal::hash::GetHash">GetHash</a> for penumbra_sdk_tct::internal::frontier::<a class="struct" href="../frontier/struct.Node.html" title="struct penumbra_sdk_tct::internal::frontier::Node">Node</a>&lt;Child&gt;</h3></section><section id="impl-GetHash-for-Node%3CChild%3E-1" class="impl"><a class="src rightside" href="../../../src/penumbra_sdk_tct/internal/complete/node.rs.html#85-95">source</a><a href="#impl-GetHash-for-Node%3CChild%3E-1" class="anchor">§</a><h3 class="code-header">impl&lt;Child: <a class="trait" href="../height/trait.Height.html" title="trait penumbra_sdk_tct::internal::height::Height">Height</a> + <a class="trait" href="trait.GetHash.html" title="trait penumbra_sdk_tct::internal::hash::GetHash">GetHash</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a>&gt; <a class="trait" href="trait.GetHash.html" title="trait penumbra_sdk_tct::internal::hash::GetHash">GetHash</a> for penumbra_sdk_tct::internal::complete::<a class="struct" href="../complete/struct.Node.html" title="struct penumbra_sdk_tct::internal::complete::Node">Node</a>&lt;Child&gt;</h3></section><section id="impl-GetHash-for-Tier%3CItem%3E" class="impl"><a class="src rightside" href="../../../src/penumbra_sdk_tct/internal/frontier/tier.rs.html#195-216">source</a><a href="#impl-GetHash-for-Tier%3CItem%3E" class="anchor">§</a><h3 class="code-header">impl&lt;Item: <a class="trait" href="../frontier/trait.Focus.html" title="trait penumbra_sdk_tct::internal::frontier::Focus">Focus</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a>&gt; <a class="trait" href="trait.GetHash.html" title="trait penumbra_sdk_tct::internal::hash::GetHash">GetHash</a> for penumbra_sdk_tct::internal::frontier::<a class="struct" href="../frontier/struct.Tier.html" title="struct penumbra_sdk_tct::internal::frontier::Tier">Tier</a>&lt;Item&gt;<div class="where">where
    Item::<a class="associatedtype" href="../frontier/trait.Focus.html#associatedtype.Complete" title="type penumbra_sdk_tct::internal::frontier::Focus::Complete">Complete</a>: <a class="trait" href="https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a>,</div></h3></section><section id="impl-GetHash-for-Top%3CItem%3E" class="impl"><a class="src rightside" href="../../../src/penumbra_sdk_tct/internal/frontier/top.rs.html#195-216">source</a><a href="#impl-GetHash-for-Top%3CItem%3E" class="anchor">§</a><h3 class="code-header">impl&lt;Item: <a class="trait" href="../frontier/trait.Focus.html" title="trait penumbra_sdk_tct::internal::frontier::Focus">Focus</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a>&gt; <a class="trait" href="trait.GetHash.html" title="trait penumbra_sdk_tct::internal::hash::GetHash">GetHash</a> for penumbra_sdk_tct::internal::frontier::<a class="struct" href="../frontier/struct.Top.html" title="struct penumbra_sdk_tct::internal::frontier::Top">Top</a>&lt;Item&gt;<div class="where">where
    Item::<a class="associatedtype" href="../frontier/trait.Focus.html#associatedtype.Complete" title="type penumbra_sdk_tct::internal::frontier::Focus::Complete">Complete</a>: <a class="trait" href="https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a>,</div></h3></section><section id="impl-GetHash-for-Tier%3CItem%3E-1" class="impl"><a class="src rightside" href="../../../src/penumbra_sdk_tct/internal/complete/tier.rs.html#20-30">source</a><a href="#impl-GetHash-for-Tier%3CItem%3E-1" class="anchor">§</a><h3 class="code-header">impl&lt;Item: <a class="trait" href="trait.GetHash.html" title="trait penumbra_sdk_tct::internal::hash::GetHash">GetHash</a> + <a class="trait" href="../height/trait.Height.html" title="trait penumbra_sdk_tct::internal::height::Height">Height</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a>&gt; <a class="trait" href="trait.GetHash.html" title="trait penumbra_sdk_tct::internal::hash::GetHash">GetHash</a> for penumbra_sdk_tct::internal::complete::<a class="struct" href="../complete/struct.Tier.html" title="struct penumbra_sdk_tct::internal::complete::Tier">Tier</a>&lt;Item&gt;</h3></section><section id="impl-GetHash-for-Top%3CItem%3E-1" class="impl"><a class="src rightside" href="../../../src/penumbra_sdk_tct/internal/complete/top.rs.html#15-25">source</a><a href="#impl-GetHash-for-Top%3CItem%3E-1" class="anchor">§</a><h3 class="code-header">impl&lt;Item: <a class="trait" href="trait.GetHash.html" title="trait penumbra_sdk_tct::internal::hash::GetHash">GetHash</a> + <a class="trait" href="../height/trait.Height.html" title="trait penumbra_sdk_tct::internal::height::Height">Height</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a>&gt; <a class="trait" href="trait.GetHash.html" title="trait penumbra_sdk_tct::internal::hash::GetHash">GetHash</a> for penumbra_sdk_tct::internal::complete::<a class="struct" href="../complete/struct.Top.html" title="struct penumbra_sdk_tct::internal::complete::Top">Top</a>&lt;Item&gt;</h3></section><section id="impl-GetHash-for-Leaf%3CItem%3E" class="impl"><a class="src rightside" href="../../../src/penumbra_sdk_tct/internal/complete/leaf.rs.html#15-25">source</a><a href="#impl-GetHash-for-Leaf%3CItem%3E" class="anchor">§</a><h3 class="code-header">impl&lt;Item: <a class="trait" href="trait.GetHash.html" title="trait penumbra_sdk_tct::internal::hash::GetHash">GetHash</a>&gt; <a class="trait" href="trait.GetHash.html" title="trait penumbra_sdk_tct::internal::hash::GetHash">GetHash</a> for penumbra_sdk_tct::internal::complete::<a class="struct" href="../complete/struct.Leaf.html" title="struct penumbra_sdk_tct::internal::complete::Leaf">Leaf</a>&lt;Item&gt;</h3></section><section id="impl-GetHash-for-Leaf%3CItem%3E-1" class="impl"><a class="src rightside" href="../../../src/penumbra_sdk_tct/internal/frontier/leaf.rs.html#13-23">source</a><a href="#impl-GetHash-for-Leaf%3CItem%3E-1" class="anchor">§</a><h3 class="code-header">impl&lt;Item: <a class="trait" href="trait.GetHash.html" title="trait penumbra_sdk_tct::internal::hash::GetHash">GetHash</a>&gt; <a class="trait" href="trait.GetHash.html" title="trait penumbra_sdk_tct::internal::hash::GetHash">GetHash</a> for penumbra_sdk_tct::internal::frontier::<a class="struct" href="../frontier/struct.Leaf.html" title="struct penumbra_sdk_tct::internal::frontier::Leaf">Leaf</a>&lt;Item&gt;</h3></section><section id="impl-GetHash-for-Insert%3CT%3E" class="impl"><a class="src rightside" href="../../../src/penumbra_sdk_tct/internal/insert.rs.html#145-161">source</a><a href="#impl-GetHash-for-Insert%3CT%3E" class="anchor">§</a><h3 class="code-header">impl&lt;T: <a class="trait" href="trait.GetHash.html" title="trait penumbra_sdk_tct::internal::hash::GetHash">GetHash</a>&gt; <a class="trait" href="trait.GetHash.html" title="trait penumbra_sdk_tct::internal::hash::GetHash">GetHash</a> for <a class="enum" href="../frontier/enum.Insert.html" title="enum penumbra_sdk_tct::internal::frontier::Insert">Insert</a>&lt;T&gt;</h3></section></div><script src="../../../trait.impl/penumbra_sdk_tct/internal/hash/trait.GetHash.js" async></script></section></div></main></body></html>